<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Partner with The Mommy Newsletter</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body { background: #FFFFFF; color: #1A1A2E; font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; -webkit-font-smoothing: antialiased; font-size: 16px; line-height: 1.6; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
    .fade-in { animation: fadeIn 0.4s ease-out both; }
    @keyframes pulse { 0%,100% { opacity: 1; } 50% { opacity: 0.5; } }
    @keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }
    @keyframes ticker-scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
    .section { opacity: 1; transform: translateY(0); }
    .section.animate-ready { opacity: 0; transform: translateY(24px); transition: opacity 0.7s ease, transform 0.7s ease; }
    .section.animate-ready.visible { opacity: 1; transform: translateY(0); }
    ::selection { background: #E8909C33; }
    input:focus, textarea:focus { border-color: #E8909C !important; box-shadow: 0 0 0 3px #E8909C22 !important; outline: none; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect, useCallback, useRef } = React;

    // ═══════════════════════════════════════════════════════════════
    // CONSTANTS
    // ═══════════════════════════════════════════════════════════════
    const C = {
      bg: "#FFFFFF",
      bgSubtle: "#FAF9F7",
      text: "#1A1A2E",
      textSecondary: "#4A4A5A",
      muted: "#8A8A9A",
      accent: "#E8909C",
      accentLight: "#FDF2F4",
      accentDark: "#D4707E",
      success: "#2D8A6E",
      successLight: "#E8F5EF",
      border: "#EAEAEA",
      borderLight: "#F2F2F2",
    };
    const FONT = "'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif";
    const MONO = "'SF Mono', 'Fira Code', Menlo, Consolas, monospace";
    const MOBILE = 640;
    const TABLET = 1024;

    function useWindowWidth() {
      const [w, setW] = useState(window.innerWidth);
      useEffect(() => { const h = () => setW(window.innerWidth); window.addEventListener("resize", h); return () => window.removeEventListener("resize", h); }, []);
      return w;
    }

    const num = (v) => (v || 0).toLocaleString();
    const money = (v) => "$" + (v || 0).toLocaleString();

    // ═══════════════════════════════════════════════════════════════
    // PRICING HELPERS
    // ═══════════════════════════════════════════════════════════════
    function getPriceAdjustment(subscriberCount, milestones) {
      let adj = 0;
      for (const m of (milestones || [])) {
        if (subscriberCount >= m.subscribers) adj = m.adjustment;
      }
      return adj;
    }

    function getNextMilestone(subscriberCount, milestones) {
      for (const m of (milestones || [])) {
        if (subscriberCount < m.subscribers) return m;
      }
      return null;
    }

    function calcGuarantee(avgOpens, placements, multiplier) {
      const raw = Math.floor(avgOpens * placements * (multiplier || 0.6));
      return Math.floor(raw / 10000) * 10000;
    }

    // ═══════════════════════════════════════════════════════════════
    // SECTION COMPONENTS
    // ═══════════════════════════════════════════════════════════════

    function Section({ children, id, bg, style }) {
      return (
        <section id={id} className="section" style={{ padding: "96px 24px", background: bg || "transparent", ...style }}>
          <div style={{ maxWidth: 1100, margin: "0 auto" }}>{children}</div>
        </section>
      );
    }

    function SectionTitle({ children, sub }) {
      return (
        <div style={{ textAlign: "center", marginBottom: 56 }}>
          <h2 style={{ fontSize: 32, fontWeight: 700, letterSpacing: -0.5, marginBottom: sub ? 14 : 0, color: C.text }}>{children}</h2>
          {sub && <p style={{ fontSize: 16, color: C.muted, maxWidth: 520, margin: "0 auto", lineHeight: 1.65 }}>{sub}</p>}
        </div>
      );
    }

    // ─── Hero ─────────────────────────────────────────────────────
    function Hero({ stats, config, isMobile }) {
      const subs = stats?.activeSubscribers;
      const subsRaw = subs && subs > 0 ? Math.floor(subs / 1000) * 1000 : 110000;

      const heroStats = [
        { label: "Subscribers", display: subsRaw.toLocaleString() + "+", live: subs > 0 },
        { label: "Engaged Readers", display: (config.engagedReaders || 0).toLocaleString() },
        { label: "Unique Open Rate", display: config.uniqueOpenRate + "%+" },
        { label: "Sponsors Rebook", display: config.pavedRebookRate + "%" },
      ];
      return (
        <section style={{ padding: isMobile ? "60px 24px 48px" : "100px 24px 80px", textAlign: "center", background: C.bg }}>
          <div style={{ maxWidth: 860, margin: "0 auto" }} className="fade-in">
            <p style={{ fontSize: 12, fontWeight: 600, textTransform: "uppercase", letterSpacing: 3, color: C.muted, marginBottom: 24 }}>The Mommy Newsletter</p>
            <h1 style={{ fontSize: isMobile ? 28 : 42, fontWeight: 800, lineHeight: 1.15, letterSpacing: -0.5, color: C.text, maxWidth: 600, margin: "0 auto 40px" }}>
              Reach {(config.engagedReaders || 31000).toLocaleString()} Moms Who{isMobile ? " " : <br />}Open, Read, and Buy
            </h1>
            <div style={{
              display: "grid",
              gridTemplateColumns: isMobile ? "1fr 1fr" : "repeat(4, 1fr)",
              gap: isMobile ? 16 : 32,
              maxWidth: 720, margin: "0 auto 48px",
            }}>
              {heroStats.map((s, i) => (
                <div key={i} style={{ textAlign: "center" }}>
                  <div style={{ display: "flex", alignItems: "center", justifyContent: "center", gap: 6 }}>
                    <span style={{ fontSize: isMobile ? 32 : 40, fontWeight: 700, color: C.text, fontVariantNumeric: "tabular-nums" }}>{s.display}</span>
                    {s.live && (
                      <span style={{ display: "inline-flex", alignItems: "center", gap: 4 }}>
                        <span style={{ width: 6, height: 6, borderRadius: 3, background: C.success, display: "inline-block", animation: "pulse 2s infinite" }} />
                        <span style={{ fontSize: 11, color: C.muted, fontWeight: 500 }}>Live</span>
                      </span>
                    )}
                  </div>
                  <span style={{ fontSize: 12, color: C.muted, fontWeight: 600, textTransform: "uppercase", letterSpacing: 1.5 }}>{s.label}</span>
                </div>
              ))}
            </div>
            <a href="#pricing" style={{
              display: "inline-block", padding: "14px 32px", background: C.accent, color: "#fff",
              borderRadius: 10, fontSize: 15, fontWeight: 600, textDecoration: "none",
              transition: "all 0.15s",
            }}>
              See Packages
            </a>
          </div>
        </section>
      );
    }

    // ─── Brand Ticker ─────────────────────────────────────────────
    function BrandTicker({ config, isMobile }) {
      const brands = config.brandPartners || [];
      const brandStyles = {
        "Netflix": { fontWeight: 900, textTransform: "uppercase", letterSpacing: 5, fontSize: isMobile ? 14 : 17 },
        "Instacart": { fontWeight: 700, fontSize: isMobile ? 17 : 22 },
        "Canva": { fontStyle: "italic", fontWeight: 700, fontSize: isMobile ? 17 : 23 },
        "Betterment": { fontWeight: 600, fontSize: isMobile ? 15 : 19, letterSpacing: 0.5 },
        "UPPAbaby": { fontWeight: 800, letterSpacing: 2, fontSize: isMobile ? 14 : 17, textTransform: "uppercase" },
        "BabyBjörn": { fontWeight: 600, fontSize: isMobile ? 16 : 21, fontVariant: "small-caps" },
        "Nanit": { fontWeight: 300, fontSize: isMobile ? 16 : 22, letterSpacing: 2 },
        "Evenflo": { fontWeight: 600, fontStyle: "italic", fontSize: isMobile ? 16 : 21 },
        "Blinkist": { fontWeight: 700, fontSize: isMobile ? 15 : 19 },
        "Mockingbird": { fontWeight: 500, letterSpacing: 3, fontSize: isMobile ? 13 : 16, textTransform: "uppercase" },
        "ResortPass": { fontWeight: 500, textTransform: "uppercase", letterSpacing: 5, fontSize: isMobile ? 12 : 15 },
      };
      const defaultStyle = { fontWeight: 600, fontSize: isMobile ? 16 : 20 };

      const renderBrands = () => brands.map((b, i) => (
        <span key={i} style={{
          display: "inline-flex", alignItems: "center",
          padding: "0 40px", color: C.text, whiteSpace: "nowrap", opacity: 0.7,
          ...(brandStyles[b] || defaultStyle),
        }}>{b}</span>
      ));

      return (
        <section style={{ padding: "28px 0", background: C.accentLight, overflow: "hidden" }}>
          <p style={{ textAlign: "center", fontSize: 13, fontWeight: 600, textTransform: "uppercase", letterSpacing: 2, color: C.muted, marginBottom: 20 }}>
            These Brands Already Reach Our Readers
          </p>
          <div style={{
            width: "100%", overflow: "hidden",
            maskImage: "linear-gradient(to right, transparent, black 10%, black 90%, transparent)",
            WebkitMaskImage: "linear-gradient(to right, transparent, black 10%, black 90%, transparent)",
          }}>
            <div style={{
              display: "inline-flex", alignItems: "center",
              animation: "ticker-scroll 45s linear infinite",
              whiteSpace: "nowrap",
            }}
            onMouseEnter={e => e.currentTarget.style.animationPlayState = "paused"}
            onMouseLeave={e => e.currentTarget.style.animationPlayState = "running"}
            >
              {renderBrands()}
              {renderBrands()}
            </div>
          </div>
        </section>
      );
    }

    // ─── Demographics ─────────────────────────────────────────────
    function Demographics({ config, isMobile }) {
      const stats = [
        { label: "Engaged Readers", value: num(config.engagedReaders) },
        { label: "Unique Open Rate", value: config.uniqueOpenRate + "%+" },
        { label: "Total Open Rate", value: config.totalOpenRate },
      ];
      return (
        <Section bg={C.bgSubtle}>
          <SectionTitle sub="31,000 moms who open every email">Who You're Reaching</SectionTitle>
          <div style={{ display: "grid", gridTemplateColumns: isMobile ? "1fr" : "repeat(3, 1fr)", gap: 20, maxWidth: 800, margin: "0 auto 48px" }}>
            {stats.map((s, i) => (
              <div key={i} style={{
                textAlign: "center", padding: "32px 24px", borderRadius: 16,
                border: `1px solid ${C.border}`, background: C.bg,
                boxShadow: "0 1px 3px rgba(0,0,0,0.04)",
              }}>
                <div style={{ fontSize: 40, fontWeight: 700, color: C.text, marginBottom: 8 }}>{s.value}</div>
                <div style={{ fontSize: 13, color: C.muted, fontWeight: 600, textTransform: "uppercase", letterSpacing: 1 }}>{s.label}</div>
              </div>
            ))}
          </div>
          <p style={{ fontSize: 14, color: C.muted, textAlign: "center", marginBottom: 32 }}>
            3&times; per week &middot; 156 newsletters per year
          </p>
          <div style={{ maxWidth: 560, margin: "0 auto", textAlign: "center" }}>
            <p style={{ fontSize: 16, color: C.textSecondary, lineHeight: 1.65, marginBottom: 8 }}>
              100% moms, aged 22-45
            </p>
            <p style={{ fontSize: 16, color: C.textSecondary, lineHeight: 1.65, marginBottom: 0 }}>
              94% in the USA &middot; 6% in Canada, Australia, and the UK
            </p>
            <div style={{ marginTop: 24, paddingTop: 24, borderTop: `1px solid ${C.border}`, textAlign: "center" }}>
              <div style={{ fontSize: 13, fontWeight: 600, textTransform: "uppercase", letterSpacing: 2, color: C.muted, marginBottom: 8 }}>
                Built for brands in
              </div>
              <div style={{ fontSize: 15, color: C.textSecondary, lineHeight: 1.8 }}>
                Baby &amp; toddler gear &middot; Health &amp; wellness &middot; Family services &middot; Food &amp; nutrition<br />
                Education &middot; Home organization &middot; Self-care &middot; Financial products &middot; Family travel
              </div>
            </div>
          </div>
        </Section>
      );
    }

    // ─── Testimonials Carousel ────────────────────────────────────
    function Testimonials({ config, isMobile }) {
      const trackRef = useRef(null);
      const testimonials = [
        { quote: "I've enjoyed each email like a little check in. I also love how there's no pressure to be trying everything... I feel like I'm talking to another Mom who's saying, 'have you heard about this? Isn't it cool?'", name: "Mary Hoerchler" },
        { quote: "I love the content and am obsessed with it all. It gives me inspiration for the future.. not only for my marriage, my kids, but my career as well. Thank you for making my life better all around with your newsletters.", name: "Amy Ballou" },
        { quote: "Thanks for The Mommy! I appreciate all the hard work, time, and effort that goes into it. I often read them when I'm breastfeeding my daughter. It is one of few emails I am excited to open and read.", name: "Alicia Lunsford" },
        { quote: "I absolutely love the newsletter. I love all the sections and have them saved in a folder on my email so I can go back and read them. You're doing an amazing job.", name: "Sarah Snyder" },
        { quote: "I'm new to being a mom, but it's so refreshing to see encouragement with the polls! Thank you so much for putting together something that makes it feel like I'm not alone in navigating such a big change.", name: "Jennifer Robinson" },
        { quote: "I absolutely love and look forward to reading your newsletter. I enjoy the polls and the recipes the most, but it's all great content! Thank you for providing this to myself and countless other mommas.", name: "Erica Schwarz" },
        { quote: "Thank you for all you do. I have been through the thick of it with postpartum and I look forward to your newsletters. Thank you!", name: "Jordan Grube" },
        { quote: "I love the newsletter. I have recommended it to two of my sisters with little ones. I love checking out the recipes!", name: "Erin Turcott" },
        { quote: "I absolutely look forward to all the emails from The Mommy! I love it all!", name: "Stefani Nixon" },
      ];

      const scrollCarousel = (dir) => {
        if (!trackRef.current) return;
        const card = trackRef.current.querySelector("div");
        const scrollAmt = card ? card.offsetWidth + 24 : 384;
        trackRef.current.scrollBy({ left: dir * scrollAmt, behavior: "smooth" });
      };

      const cardWidth = isMobile ? "calc(100vw - 64px)" : "340px";

      return (
        <Section bg={C.bgSubtle}>
          <SectionTitle sub="Loved by thousands of moms">Our Readers Don't Just Read — They Act</SectionTitle>
          <div style={{ position: "relative", maxWidth: 1200, margin: "0 auto", padding: isMobile ? "0 24px" : "0 56px" }}>
            {!isMobile && (
              <button onClick={() => scrollCarousel(-1)} style={{
                position: "absolute", top: "50%", left: 0, transform: "translateY(-50%)",
                width: 44, height: 44, borderRadius: "50%", border: `1.5px solid ${C.border}`,
                background: C.bg, color: C.text, fontSize: 22, cursor: "pointer", zIndex: 5,
                display: "flex", alignItems: "center", justifyContent: "center",
                boxShadow: "0 2px 8px rgba(0,0,0,0.08)", transition: "all 0.2s",
              }}>&lsaquo;</button>
            )}
            {!isMobile && <div style={{ position: "absolute", left: 56, top: 0, bottom: 0, width: 40, background: "linear-gradient(to right, #FAF9F7, transparent)", zIndex: 3, pointerEvents: "none" }} />}
            <div ref={trackRef} className="carousel-track" style={{
              display: "flex", gap: 24, overflowX: "auto", scrollSnapType: "x mandatory",
              scrollBehavior: "smooth", padding: "16px 0",
              scrollbarWidth: "none", msOverflowStyle: "none",
              WebkitOverflowScrolling: "touch",
            }}>
              <style>{`.carousel-track::-webkit-scrollbar { display: none; }`}</style>
              {testimonials.map((t, i) => (
                <div key={i} style={{
                  background: C.bg, border: `1px solid ${C.border}`, borderRadius: 16,
                  padding: 32, width: cardWidth, minWidth: cardWidth, maxWidth: isMobile ? cardWidth : 360, minHeight: 200,
                  flexShrink: 0, scrollSnapAlign: "start",
                  boxShadow: "0 1px 3px rgba(0,0,0,0.04)",
                }}>
                  <div style={{ fontSize: 48, fontFamily: "Georgia, serif", color: C.accentLight, lineHeight: 0, display: "block", marginBottom: 16 }}>&ldquo;</div>
                  <p style={{ fontSize: 15, color: C.textSecondary, lineHeight: 1.65, marginBottom: 16, fontStyle: "italic" }}>{t.quote}</p>
                  <p style={{ fontSize: 13, fontWeight: 600, textTransform: "uppercase", letterSpacing: 1.5, color: C.text }}>{t.name}</p>
                </div>
              ))}
            </div>
            {!isMobile && <div style={{ position: "absolute", right: 56, top: 0, bottom: 0, width: 40, background: "linear-gradient(to left, #FAF9F7, transparent)", zIndex: 3, pointerEvents: "none" }} />}
            {!isMobile && (
              <button onClick={() => scrollCarousel(1)} style={{
                position: "absolute", top: "50%", right: 0, transform: "translateY(-50%)",
                width: 44, height: 44, borderRadius: "50%", border: `1.5px solid ${C.border}`,
                background: C.bg, color: C.text, fontSize: 22, cursor: "pointer", zIndex: 5,
                display: "flex", alignItems: "center", justifyContent: "center",
                boxShadow: "0 2px 8px rgba(0,0,0,0.08)", transition: "all 0.2s",
              }}>&rsaquo;</button>
            )}
          </div>
        </Section>
      );
    }

    // ─── Dashboard Preview ─────────────────────────────────────────
    function DashboardPreview({ isMobile }) {
      const width = useWindowWidth();
      const isSmall = width <= 480;
      return (
        <Section bg={C.bg}>
          <SectionTitle sub="Every partner gets a private, always-updated dashboard. No spreadsheets. No waiting.">
            Real-Time Campaign Tracking
          </SectionTitle>
          <div style={{
            background: "#0A0E1A", borderRadius: 16, padding: isMobile ? 24 : 48,
            maxWidth: 960, margin: "0 auto",
            color: "#E2E8F0", position: "relative", overflow: "hidden",
            boxShadow: "0 20px 60px rgba(0,0,0,0.3)", fontFamily: FONT,
          }}>
            <div style={{ position: "absolute", top: 0, left: 0, right: 0, bottom: 0, pointerEvents: "none", overflow: "hidden" }}>
              <div style={{ position: "absolute", top: 0, left: 0, width: "100%", height: "100%", background: "linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.02) 50%, transparent 100%)", animation: "shimmer 8s ease-in-out infinite" }} />
            </div>
            <div style={{ marginBottom: 20 }}>
              <div style={{ fontSize: 11, textTransform: "uppercase", letterSpacing: 2, color: "#4A5A72", marginBottom: 4 }}>Campaign Performance Report</div>
              <div style={{ fontSize: isMobile ? 20 : 24, fontWeight: 700, color: "#fff" }}>Sample Partner</div>
            </div>
            <div style={{ textAlign: "center", marginBottom: 20 }}>
              <div style={{ fontSize: 13, color: "#4A5A72" }}>Seen by</div>
              <div style={{ fontSize: isMobile ? 40 : 52, fontWeight: 700, color: "#4F8FF7", fontFamily: MONO }}>198,500</div>
              <div style={{ fontSize: 13, color: "#4A5A72" }}>readers</div>
            </div>
            <div style={{ marginBottom: 20, textAlign: "center" }}>
              <svg width="100%" height={isMobile ? 70 : 100} viewBox="0 0 400 80" preserveAspectRatio="none">
                <defs><linearGradient id="chartGrad" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stopColor="#4F8FF7" stopOpacity="0.3" /><stop offset="100%" stopColor="#4F8FF7" stopOpacity="0" /></linearGradient></defs>
                <polygon points="0,70 60,62 120,55 180,42 240,33 300,20 360,8 360,80 0,80" fill="url(#chartGrad)" />
                <polyline points="0,70 60,62 120,55 180,42 240,33 300,20 360,8" fill="none" stroke="#4F8FF7" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" />
              </svg>
            </div>
            <div style={{ display: "flex", flexDirection: isSmall ? "column" : "row", gap: 12, marginBottom: 16 }}>
              {[
                { label: "Total Opens", value: "198,500", color: "#F97316" },
                { label: "Total Clicks", value: "2,623", color: "#22C55E" },
                { label: "Click-Through Rate", value: "1.32%", color: "#EAB308" },
              ].map((s, i) => (
                <div key={i} style={{ flex: 1, background: "#0F1420", border: "1px solid #1E2A3A", borderRadius: 10, padding: isMobile ? "12px 14px" : "16px", borderTop: `2px solid ${s.color}` }}>
                  <div style={{ fontSize: 10, textTransform: "uppercase", letterSpacing: 1, color: "#4A5A72" }}>{s.label}</div>
                  <div style={{ fontSize: isMobile ? 18 : 24, fontWeight: 700, color: s.color, fontFamily: MONO }}>{s.value}</div>
                </div>
              ))}
            </div>
            <div style={{ background: "#0F1420", border: "1px solid #1E2A3A", borderRadius: 10, padding: isMobile ? "12px 14px" : 16 }}>
              <div style={{ display: "flex", justifyContent: "space-between", marginBottom: 8 }}>
                <span style={{ fontSize: 12, color: "#4A5A72" }}>Campaign Progress</span>
                <span style={{ fontSize: 12, color: "#E2E8F0" }}>7 of 12 emails sent</span>
              </div>
              <div style={{ background: "#1E2A3A", borderRadius: 6, height: 8, overflow: "hidden" }}>
                <div style={{ background: "linear-gradient(90deg, #4F8FF7, #22C55E)", width: "58%", height: "100%", borderRadius: 6 }} />
              </div>
            </div>
            <div style={{ marginTop: 14, display: "flex", gap: 8, flexWrap: "wrap" }}>
              <span style={{ fontSize: 11, color: "#C084FC", border: "1px solid rgba(124,58,237,0.2)", padding: "4px 10px", borderRadius: 20 }}>Primary Placement</span>
              <span style={{ fontSize: 11, color: "#C084FC", border: "1px solid rgba(124,58,237,0.2)", padding: "4px 10px", borderRadius: 20 }}>Category Exclusivity</span>
            </div>
          </div>
          <div style={{ textAlign: "center", marginTop: 32 }}>
            <a href="/s/demo" target="_blank" rel="noopener noreferrer" style={{
              display: "inline-flex", alignItems: "center", gap: 8,
              padding: "14px 32px", background: C.accent, color: "#fff",
              border: "none", borderRadius: 10, fontSize: 15, fontWeight: 600,
              textDecoration: "none", transition: "all 0.2s",
            }}>
              Explore the Live Demo
            </a>
            <p style={{ fontSize: 15, fontWeight: 600, color: C.text, marginTop: 16 }}>
              Average sponsor CTR: 1.15% — 3&times; the newsletter industry average
            </p>
            <p style={{ fontSize: 14, color: C.muted, marginTop: 8 }}>
              Every partner gets their own private dashboard — updated automatically after each send.
            </p>
          </div>
        </Section>
      );
    }

    // ─── Pricing Tiers ────────────────────────────────────────────
    function PricingSection({ config, stats, isMobile }) {
      const [takeoverState, setTakeoverState] = useState({});
      const [valueStackOpen, setValueStackOpen] = useState({});
      const [hoveredCard, setHoveredCard] = useState(null);
      const subscriberCount = (stats?.activeSubscribers > 0) ? stats.activeSubscribers : (config.engagedReaders || 31000);
      const adj = getPriceAdjustment(subscriberCount, config.pricingMilestones);
      const avgOpens = stats?.avgOpensPerSend || config.engagedReaders;
      const tierOrder = isMobile ? ["growth", "starter", "partner"] : ["starter", "growth", "partner"];

      return (
        <Section id="pricing" bg={C.bgSubtle}>
          <SectionTitle>Partnership Packages</SectionTitle>
          <div style={{ display: "flex", flexDirection: isMobile ? "column" : "row", gap: 24, alignItems: "stretch" }}>
            {tierOrder.map(key => {
              const tier = config.tiers?.[key];
              if (!tier) return null;
              const isRec = tier.recommended;
              const isTakeover = takeoverState[key] || false;
              const basePrice = tier.price + (adj * tier.placements);
              const takeoverTotal = (tier.takeoverPrice || 0) + (adj * tier.placements);
              const displayPrice = isTakeover ? takeoverTotal : basePrice;
              const valueTotal = (tier.valueStack || []).reduce((s, v) => s + v.value, 0);
              const guarantee = calcGuarantee(avgOpens, tier.placements, config.guaranteeMultiplier);
              const isVSOpen = valueStackOpen[key] || false;
              const isHovered = hoveredCard === key;

              return (
                <div key={key}
                  onMouseEnter={() => setHoveredCard(key)}
                  onMouseLeave={() => setHoveredCard(null)}
                  style={{
                    flex: 1, borderRadius: 20, display: "flex", flexDirection: "column",
                    border: `${isRec ? 2.5 : 1}px solid ${isRec ? C.accent : C.border}`,
                    background: C.bg, overflow: "visible", position: "relative",
                    boxShadow: isHovered ? "0 8px 24px rgba(0,0,0,0.08)" : (isRec ? "0 8px 30px rgba(232,144,156,0.15)" : "0 1px 3px rgba(0,0,0,0.04)"),
                    transform: isHovered ? "translateY(-4px) scale(1.04)" : (isRec && !isMobile ? "scale(1.04)" : "none"),
                    transition: "transform 0.2s, box-shadow 0.2s",
                    zIndex: isRec ? 2 : 0,
                  }}>
                  {isRec && (
                    <div style={{
                      position: "absolute", top: -14, left: "50%", transform: "translateX(-50%)",
                      background: C.accent, color: "#fff", padding: "6px 20px", borderRadius: 20,
                      fontSize: 11, fontWeight: 700, letterSpacing: 2, textTransform: "uppercase", whiteSpace: "nowrap",
                    }}>Most Popular</div>
                  )}
                  <div style={{ padding: 28, paddingTop: isRec ? 36 : 28, display: "flex", flexDirection: "column", flex: 1 }}>
                    <h3 style={{ fontSize: 22, fontWeight: 700, marginBottom: 4, color: C.text }}>{tier.name}</h3>
                    <p style={{ fontSize: 14, color: C.muted, marginBottom: 16, lineHeight: 1.5 }}>{tier.tagline}</p>
                    <p style={{ fontSize: 14, fontWeight: 700, color: C.accent, marginBottom: 20 }}>{tier.placements} Newsletter Placements</p>

                    {/* Price — moved UP */}
                    <div style={{ textAlign: "center", padding: "24px 0 20px", marginBottom: 16, borderRadius: 14, background: isRec ? C.accentLight : "#F9FAFB" }}>
                      <div style={{ fontSize: 11, fontWeight: 700, textTransform: "uppercase", letterSpacing: 2, color: isRec ? C.accent : C.muted, marginBottom: 6 }}>Your Investment</div>
                      <div style={{ fontSize: 36, fontWeight: 800, color: C.text, transition: "all 0.2s" }}>{money(displayPrice)}</div>
                      {valueTotal > displayPrice && (
                        <div style={{ display: "inline-block", marginTop: 10, padding: "4px 14px", borderRadius: 20, background: C.successLight, color: C.success, fontSize: 12, fontWeight: 600 }}>
                          Save {money(valueTotal - displayPrice)}
                        </div>
                      )}
                    </div>

                    {/* Get Started — moved UP */}
                    <a href="#inquiry" onClick={() => { window.__selectedTier = key; window.__selectedTakeover = isTakeover; }} style={{
                      display: "block", textAlign: "center", padding: "14px 0", borderRadius: 10, marginBottom: 20,
                      background: isRec ? C.accent : "transparent", color: isRec ? "#fff" : C.text,
                      border: isRec ? "none" : `1.5px solid ${C.border}`, fontSize: 15, fontWeight: 600,
                      textDecoration: "none", transition: "all 0.15s",
                    }}>
                      Get Started
                    </a>

                    {/* Divider */}
                    <div style={{ height: 1, background: C.border, marginBottom: 20 }} />

                    {/* Guarantee */}
                    {guarantee > 0 && (
                      <div style={{ margin: "16px 0", padding: "12px 0", borderTop: `1px solid ${C.border}` }}>
                        <div style={{ fontSize: 14, color: C.success, fontWeight: 600 }}>Guaranteed {num(guarantee)}+ reader impressions</div>
                        <div style={{ fontSize: 12, color: C.textSecondary, marginTop: 2 }}>If we don't hit it, we keep running free.</div>
                      </div>
                    )}

                    {/* Features — flex: 1 to fill remaining space for equal-height cards */}
                    <div style={{ marginBottom: 16, flex: 1 }}>
                      {(tier.features || []).map((f, i) => (
                        <div key={i} style={{ display: "flex", gap: 8, marginBottom: 10, fontSize: 14, color: C.text, lineHeight: 1.5 }}>
                          <span style={{ color: C.success, fontWeight: 700, flexShrink: 0 }}>&#10003;</span>
                          <span>{f}</span>
                        </div>
                      ))}
                    </div>

                    {/* Card footer — pushed to bottom */}
                    <div style={{ marginTop: "auto" }}>

                    {/* Collapsible Value Stack */}
                    {(tier.valueStack || []).length > 0 && (
                      <>
                        <button onClick={() => setValueStackOpen(s => ({ ...s, [key]: !s[key] }))} style={{
                          background: "none", border: "none", padding: "8px 0", fontSize: 13, fontWeight: 600,
                          color: C.accent, cursor: "pointer", fontFamily: FONT, textAlign: "left", marginBottom: 8,
                        }}>
                          {isVSOpen ? "Hide value breakdown \u25B4" : "See value breakdown \u25BE"}
                        </button>
                        <div style={{ maxHeight: isVSOpen ? 400 : 0, overflow: "hidden", transition: "max-height 0.3s ease" }}>
                          <div style={{ borderTop: `1px solid ${C.border}`, paddingTop: 12, marginBottom: 12 }}>
                            <p style={{ fontSize: 11, fontWeight: 700, textTransform: "uppercase", letterSpacing: 2, color: C.muted, marginBottom: 10 }}>Value Breakdown</p>
                            {tier.valueStack.map((v, i) => (
                              <div key={i} style={{ display: "flex", justifyContent: "space-between", padding: "5px 0", fontSize: 13, color: C.textSecondary, borderBottom: i < tier.valueStack.length - 1 ? `1px solid ${C.borderLight}` : "none" }}>
                                <span>{v.label}</span>
                                <span style={{ fontWeight: 600, color: C.text }}>{money(v.value)}</span>
                              </div>
                            ))}
                            <div style={{ display: "flex", justifyContent: "space-between", fontSize: 13, fontWeight: 700, color: C.muted, marginTop: 8, paddingTop: 8, borderTop: `1px solid ${C.border}`, textDecoration: "line-through" }}>
                              <span>Total Value</span>
                              <span>{money(valueTotal)}</span>
                            </div>
                          </div>
                        </div>
                      </>
                    )}

                    {/* Takeover Toggle */}
                    {tier.includeTakeoverOption && tier.takeoverPrice && (
                      <div style={{
                        padding: "14px 16px", borderRadius: 12, marginTop: 8, cursor: "pointer", transition: "all 0.15s",
                        border: `1px solid ${isTakeover ? C.accent : C.border}`,
                        background: isTakeover ? C.accentLight : "transparent",
                      }} onClick={() => setTakeoverState(s => ({ ...s, [key]: !s[key] }))}>
                        <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center" }}>
                          <div>
                            <span style={{ fontSize: 14, fontWeight: 600, color: isTakeover ? C.accentDark : C.text }}>Newsletter Takeover</span>
                            <span style={{ fontSize: 12, color: C.muted, marginLeft: 8 }}>+$200/email</span>
                          </div>
                          <div style={{ width: 40, height: 22, borderRadius: 11, padding: 2, background: isTakeover ? C.accent : C.muted, transition: "background 0.15s", display: "flex", alignItems: "center" }}>
                            <div style={{ width: 18, height: 18, borderRadius: 9, background: "#fff", transform: isTakeover ? "translateX(18px)" : "translateX(0)", transition: "transform 0.15s" }} />
                          </div>
                        </div>
                        {isTakeover && (
                          <p style={{ fontSize: 13, color: C.muted, marginTop: 8, lineHeight: 1.4 }}>Sole sponsor per email &middot; ~25% higher engagement</p>
                        )}
                      </div>
                    )}

                    </div>{/* end card footer */}
                  </div>
                </div>
              );
            })}
          </div>
          <p style={{ fontSize: 13, color: C.muted, textAlign: "center", marginTop: 32 }}>
            #1 Popular Family Newsletter on Paved &middot; #2 Most Reviewed &middot; 92% of advertisers rebook
          </p>
        </Section>
      );
    }

    // ─── How It Works (Phone Mockup) ──────────────────────────────
    function HowItWorks({ config, isMobile }) {
      const [currentTP, setCurrentTP] = useState(0);
      const width = useWindowWidth();
      const isTabletOrBelow = width < 768;
      const example = (config.liveExamples || [])[0];

      useEffect(() => {
        if (isTabletOrBelow) return;
        const interval = setInterval(() => {
          setCurrentTP(prev => (prev + 1) % 3);
        }, 3500);
        return () => clearInterval(interval);
      }, [isTabletOrBelow]);

      const scrollPositions = [0, 200, 380];
      const tpBorderColor = (i) => currentTP === i ? C.accent : "transparent";
      const tpBg = (i, defaultBg) => currentTP === i ? C.accentLight : defaultBg;

      const callouts = [
        { label: "Touchpoint 1", title: "Featured Banner", desc: "Your brand logo alongside The Mommy's at the very top of the email. 31,000+ readers see this before any content loads." },
        { label: "Touchpoint 2", title: "Promotional Intro", desc: "A one-line mention woven naturally into the newsletter opening. Feels editorial — not like an ad. Readers click because they're curious." },
        { label: "Touchpoint 3", title: "Main Ad Placement", desc: "Your headline, image, 100 words of copy, and a call-to-action button. This is where conversions happen. Average result: $1.53/click." },
      ];

      return (
        <Section bg={C.bg} style={{ padding: "120px 24px" }}>
          <SectionTitle sub="Three touchpoints in every sponsored issue">What Your Sponsorship Looks Like</SectionTitle>
          {!isTabletOrBelow ? (
            <div style={{ display: "flex", gap: 80, alignItems: "center", maxWidth: 1100, margin: "0 auto" }}>
              <div style={{ flexShrink: 0, width: 320 }}>
                <div style={{
                  border: "6px solid #1A1A2E", borderRadius: 40, overflow: "hidden",
                  height: 640, position: "relative", background: "#1A1A2E",
                  boxShadow: "0 0 0 2px #333, 0 20px 60px rgba(0,0,0,0.2)",
                }}>
                  <div style={{ position: "absolute", top: 8, left: "50%", transform: "translateX(-50%)", width: 90, height: 22, background: "#1A1A2E", borderRadius: 12, zIndex: 10 }} />
                  <div style={{ position: "absolute", top: 0, left: 0, right: 0, height: 44, background: "#FFFFFF", zIndex: 5, display: "flex", justifyContent: "space-between", alignItems: "flex-end", padding: "0 20px 4px", fontSize: 9, fontWeight: 600, color: "#1A1A2E" }}>
                    <span>9:41</span>
                    <span style={{ display: "flex", alignItems: "center", gap: 3 }}>
                      <span style={{ fontSize: 8 }}>&#9679;&#9679;&#9679;&#9679;</span>
                      <span style={{ fontSize: 8 }}>WiFi</span>
                      <span style={{ fontSize: 8 }}>&#128267;</span>
                    </span>
                  </div>
                  <div style={{ position: "absolute", bottom: 6, left: "50%", transform: "translateX(-50%)", width: 100, height: 4, background: "#1A1A2E", borderRadius: 2, zIndex: 10 }} />
                  <div style={{ position: "absolute", top: 44, bottom: 20, left: 0, right: 0, overflow: "hidden", background: "#FFFFFF" }}>
                    <div style={{ position: "absolute", top: 0, left: 0, right: 0, transition: "transform 0.8s ease-in-out", transform: `translateY(-${scrollPositions[currentTP]}px)`, background: "#FFFFFF" }}>
                      <div style={{ textAlign: "center", padding: "16px 16px 8px" }}>
                        <div style={{ display: "inline-flex", alignItems: "center", gap: 6 }}>
                          <div style={{ width: 24, height: 24, background: C.accent, borderRadius: "50%", display: "flex", alignItems: "center", justifyContent: "center" }}><span style={{ color: "white", fontSize: 10, fontWeight: 700 }}>M</span></div>
                          <span style={{ fontFamily: "Georgia, serif", fontSize: 14, fontWeight: 700, color: "#1A1A2E" }}>The Mommy</span>
                        </div>
                      </div>
                      <div style={{ margin: "8px 16px", padding: 10, background: tpBg(0, "#FAF9F7"), borderRadius: 8, textAlign: "center", border: `2px solid ${tpBorderColor(0)}`, transition: "border-color 0.4s, background 0.4s" }}>
                        <div style={{ fontSize: 9, color: "#888", marginBottom: 4 }}>Together with</div>
                        <div style={{ fontSize: 12, fontWeight: 700, color: C.accent }}>Your Brand</div>
                      </div>
                      <div style={{ padding: "8px 16px", textAlign: "center" }}>
                        <div style={{ fontStyle: "italic", fontSize: 9, color: "#666", lineHeight: 1.4 }}>"All endings are also beginnings. We just don't know it at the time."</div>
                        <div style={{ fontSize: 8, color: "#999", marginTop: 2 }}>- Mitch Albom</div>
                      </div>
                      <div style={{ padding: "8px 16px" }}>
                        <div style={{ fontSize: 10, fontWeight: 700, color: "#1A1A2E", marginBottom: 6 }}>TGIF, Mama!</div>
                        <div style={{ fontSize: 9, color: "#555", lineHeight: 1.4, marginBottom: 8 }}>Time to kick back (just kidding, we're moms). Today, we're sprucing up the kitchen and getting crafty!</div>
                        <div style={{ fontSize: 9, color: "#333", marginBottom: 2 }}>Today's Mommy scoop:</div>
                        <div style={{ fontSize: 9, color: "#555", lineHeight: 1.6, paddingLeft: 4 }}>&#129529; Microwave Makeover<br />&#129382; Healthy Mashed Potatoes<br />&#127912; Rainbow Fish Craft</div>
                      </div>
                      <div style={{ margin: "6px 16px", padding: "8px 12px", background: tpBg(1, C.accentLight), borderRadius: 6, border: `2px solid ${tpBorderColor(1)}`, transition: "border-color 0.4s, background 0.4s" }}>
                        <div style={{ fontSize: 9, color: "#333", lineHeight: 1.4 }}>Ok this kids' card is smart. <span style={{ color: C.accent, textDecoration: "underline", fontWeight: 600, fontSize: 9 }}>Allowance doesn't hit until the chores are done.</span></div>
                      </div>
                      <div style={{ padding: "12px 16px" }}>
                        <div style={{ fontSize: 8, color: C.accent, textTransform: "uppercase", letterSpacing: 1, marginBottom: 2 }}>Mom Hack</div>
                        <div style={{ fontSize: 11, fontWeight: 700, color: "#1A1A2E", marginBottom: 6 }}>Freshen Your Microwave with Vinegar</div>
                        <div style={{ background: "#F5F5F5", borderRadius: 6, height: 60, marginBottom: 6 }} />
                        <div style={{ fontSize: 8, color: "#777", lineHeight: 1.4 }}>Microwave smelling a little "leftover fish"? Here's a quick reset...</div>
                      </div>
                      <div style={{ margin: "6px 16px", padding: 12, borderRadius: 8, border: `2px solid ${tpBorderColor(2)}`, transition: "border-color 0.4s, background 0.4s", background: tpBg(2, "transparent") }}>
                        <div style={{ fontSize: 8, color: C.accent, textTransform: "uppercase", letterSpacing: 0.5, marginBottom: 2 }}>Together with Your Brand</div>
                        <div style={{ fontSize: 11, fontWeight: 700, color: "#1A1A2E", marginBottom: 6 }}>Your Phone Buzzes Every Time They Swipe</div>
                        <div style={{ background: "#F0F0F0", borderRadius: 6, height: 70, display: "flex", alignItems: "center", justifyContent: "center", marginBottom: 6 }}><span style={{ fontSize: 9, color: "#AAA" }}>Your Image</span></div>
                        <div style={{ fontSize: 8, color: "#555", lineHeight: 1.4, marginBottom: 8 }}>That's the feature parents talk about most. It's a debit card and app made for kids and teens...</div>
                        <div style={{ fontSize: 8, color: "#555", marginBottom: 8 }}><strong>6.5 million families.</strong> <strong>4.8 stars.</strong> 440k+ reviews.</div>
                        <div style={{ background: C.accent, color: "white", textAlign: "center", padding: 6, borderRadius: 5, fontSize: 9, fontWeight: 600 }}>See how it works</div>
                      </div>
                      <div style={{ padding: "12px 16px" }}>
                        <div style={{ fontSize: 8, color: C.accent, textTransform: "uppercase", letterSpacing: 1, marginBottom: 2 }}>Mom's Mic &#127908;</div>
                        <div style={{ fontSize: 10, fontWeight: 700, color: "#1A1A2E", marginBottom: 6 }}>Where do you shop for kids' clothes?</div>
                        <div style={{ display: "flex", flexDirection: "column", gap: 4 }}>
                          <div style={{ background: "#F5F5F5", borderRadius: 4, padding: "5px 8px", fontSize: 8, color: "#555" }}>Department stores</div>
                          <div style={{ background: "#F5F5F5", borderRadius: 4, padding: "5px 8px", fontSize: 8, color: "#555" }}>Online</div>
                          <div style={{ background: "#F5F5F5", borderRadius: 4, padding: "5px 8px", fontSize: 8, color: "#555" }}>Second-hand stores</div>
                        </div>
                      </div>
                      <div style={{ padding: "12px 16px" }}>
                        <div style={{ fontSize: 8, color: C.accent, textTransform: "uppercase", letterSpacing: 1, marginBottom: 2 }}>Mom's Menu</div>
                        <div style={{ fontSize: 10, fontWeight: 700, color: "#1A1A2E", marginBottom: 6 }}>&#129382; Healthy Mashed Potatoes with Broccoli</div>
                        <div style={{ background: "#F5F5F5", borderRadius: 6, height: 50, marginBottom: 6 }} />
                      </div>
                      <div style={{ height: 200 }} />
                    </div>
                  </div>
                </div>
              </div>
              <div style={{ flex: 1, maxWidth: 420 }}>
                {callouts.map((c, i) => (
                  <div key={i} style={{ marginBottom: 48, paddingLeft: 24, borderLeft: `3px solid ${currentTP === i ? C.accent : "transparent"}`, opacity: currentTP === i ? 1 : 0.3, transition: "opacity 0.4s, border-color 0.4s", cursor: "pointer" }} onClick={() => setCurrentTP(i)}>
                    <div style={{ fontSize: 12, fontWeight: 600, textTransform: "uppercase", letterSpacing: 2, color: C.accent, marginBottom: 8 }}>{c.label}</div>
                    <div style={{ fontSize: 22, fontWeight: 700, marginBottom: 10, color: C.text }}>{c.title}</div>
                    <div style={{ fontSize: 16, color: C.textSecondary, lineHeight: 1.6, maxWidth: 380 }}>{c.desc}</div>
                  </div>
                ))}
              </div>
            </div>
          ) : (
            <div style={{ maxWidth: 500, margin: "0 auto" }}>
              {callouts.map((c, i) => (
                <div key={i} style={{ marginBottom: 32, padding: 24, borderRadius: 16, border: `1px solid ${C.border}`, background: C.bg }}>
                  <div style={{ fontSize: 11, fontWeight: 600, textTransform: "uppercase", letterSpacing: 2, color: C.accent, marginBottom: 8 }}>{c.label}</div>
                  <div style={{ fontSize: 18, fontWeight: 700, marginBottom: 8, color: C.text }}>{c.title}</div>
                  <div style={{ fontSize: 15, color: C.textSecondary, lineHeight: 1.6 }}>{c.desc}</div>
                </div>
              ))}
            </div>
          )}
          {example && (
            <div style={{ textAlign: "center", marginTop: 40 }}>
              <p style={{ fontSize: 15, color: C.textSecondary, marginBottom: 8 }}>See a real sponsorship: {example.title} &times; The Mommy — {example.cpc || "$1.53 per click"}</p>
              <a href={example.url} target="_blank" rel="noopener noreferrer" style={{ color: C.accent, fontWeight: 600, fontSize: 14, textDecoration: "none" }}>View Live Example &rarr;</a>
            </div>
          )}
        </Section>
      );
    }

    // ─── Lock-In Messaging ────────────────────────────────────────
    function LockIn({ config, stats, isMobile }) {
      const subs = (stats?.activeSubscribers > 0) ? stats.activeSubscribers : (config.engagedReaders || 31000);
      const milestones = config.pricingMilestones || [];
      const nextMs = getNextMilestone(subs, milestones);
      const progressPct = nextMs ? Math.min(Math.round((subs / nextMs.subscribers) * 100), 99) : 100;

      return (
        <Section bg={C.bg}>
          <SectionTitle>Lock In Today's Rates</SectionTitle>
          <div style={{ maxWidth: 640, margin: "0 auto", textAlign: "center" }}>
            <p style={{ fontSize: isMobile ? 18 : 24, fontWeight: 700, color: C.text, marginBottom: 8, lineHeight: 1.4 }}>
              $7,500 &divide; 250,000+ impressions = $0.03 per engaged reader
            </p>
            <p style={{ fontSize: 16, color: C.textSecondary, lineHeight: 1.65, marginBottom: 32 }}>
              That's a mom who opens, reads, and trusts what she sees.
            </p>
            <p style={{ fontSize: 16, color: C.text, marginBottom: 4 }}>
              Current rates based on {num(subs)} subscribers.
            </p>
            {nextMs && (
              <p style={{ fontSize: 18, fontWeight: 600, color: C.text, marginBottom: 24 }}>
                Next rate increase at {num(nextMs.subscribers)}.
              </p>
            )}

            {nextMs && (
              <div style={{ maxWidth: 500, margin: "0 auto 24px" }}>
                <div style={{ display: "flex", alignItems: "center", gap: 12 }}>
                  <div style={{ flex: 1, background: C.border, borderRadius: 8, height: 8, overflow: "hidden" }}>
                    <div style={{ background: C.accent, width: `${progressPct}%`, height: "100%", borderRadius: 8, transition: "width 1s ease" }} />
                  </div>
                  <span style={{ fontSize: 13, color: C.muted, fontWeight: 500, flexShrink: 0 }}>{progressPct}%</span>
                </div>
                <div style={{ display: "flex", justifyContent: "space-between", marginTop: 6, fontSize: 13, color: C.muted }}>
                  <span>{num(subs)}</span>
                  <span>{num(nextMs.subscribers)}</span>
                </div>
              </div>
            )}

            <p style={{ fontSize: 16, color: C.textSecondary, lineHeight: 1.65 }}>
              Sponsors who commit now keep today's rates even as our audience — and rates — grow.
            </p>
          </div>
        </Section>
      );
    }

    // ─── Guarantee ────────────────────────────────────────────────
    function Guarantee({ config }) {
      return (
        <Section bg={C.bg}>
          <div style={{ maxWidth: 620, margin: "0 auto", textAlign: "center" }}>
            <p style={{ fontSize: 12, fontWeight: 600, textTransform: "uppercase", letterSpacing: 3, color: C.muted, marginBottom: 16 }}>Our Guarantee</p>
            <p style={{ fontSize: 20, fontWeight: 600, color: C.text, lineHeight: 1.6, marginBottom: 16 }}>
              If we don't hit your guaranteed reader impressions, we keep running until we do — at no extra cost.
            </p>
            <p style={{ fontSize: 13, color: C.muted, marginBottom: 40 }}>
              Starter: 60,000+ &middot; Growth: 120,000+ &middot; Partner: 240,000+
            </p>
            <div style={{ width: 48, height: 1, background: C.border, margin: "0 auto 40px" }} />
            <p style={{ fontSize: 12, fontWeight: 600, textTransform: "uppercase", letterSpacing: 3, color: C.muted, marginBottom: 16 }}>Flexible Cancellation</p>
            <p style={{ fontSize: 16, color: C.textSecondary, lineHeight: 1.65 }}>{config.cancellationPolicy}</p>
          </div>
        </Section>
      );
    }

    // ─── Inquiry Form ─────────────────────────────────────────────
    function InquiryForm({ config, isMobile }) {
      const [tier, setTier] = useState("growth");
      const [takeover, setTakeover] = useState(false);
      const [name, setName] = useState("");
      const [email, setEmail] = useState("");
      const [company, setCompany] = useState("");
      const [message, setMessage] = useState("");
      const [sending, setSending] = useState(false);
      const [sent, setSent] = useState(false);
      const formRef = useRef(null);

      useEffect(() => {
        const checkTier = () => {
          if (window.__selectedTier) {
            setTier(window.__selectedTier);
            setTakeover(!!window.__selectedTakeover);
            window.__selectedTier = null;
            window.__selectedTakeover = null;
          }
        };
        window.addEventListener("hashchange", checkTier);
        const iv = setInterval(checkTier, 200);
        return () => { window.removeEventListener("hashchange", checkTier); clearInterval(iv); };
      }, []);

      const handleSubmit = async (e) => {
        e.preventDefault();
        if (!email) return;
        setSending(true);
        try {
          await fetch("/api/inquiry", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ name, email, company, tier, takeover, message }),
          });
          setSent(true);
        } catch {
          alert("Something went wrong. Please try again.");
        }
        setSending(false);
      };

      if (sent) {
        return (
          <Section id="inquiry" bg={C.bgSubtle}>
            <div style={{ textAlign: "center", padding: "40px 0" }} className="fade-in">
              <h2 style={{ fontSize: 28, fontWeight: 700, marginBottom: 12, color: C.text }}>Thanks! We'll be in touch within 24 hours.</h2>
              <p style={{ fontSize: 16, color: C.muted }}>Check your email for a confirmation.</p>
            </div>
          </Section>
        );
      }

      const tiers = config.tiers || {};
      const tierKeys = ["starter", "growth", "partner"];
      const inputStyle = {
        width: "100%", padding: "16px 18px", borderRadius: 12,
        border: `1px solid ${C.border}`, fontSize: 16, fontFamily: FONT,
        color: C.text, background: C.bg, outline: "none", boxSizing: "border-box",
        minHeight: 52, transition: "border-color 0.15s, box-shadow 0.15s",
      };

      return (
        <Section id="inquiry" bg={C.bgSubtle}>
          <SectionTitle sub="Tell us about your brand. We'll send a custom proposal within 24 hours.">Let's Get Started</SectionTitle>
          <form onSubmit={handleSubmit} ref={formRef} style={{ maxWidth: 520, margin: "0 auto" }}>
            <div style={{ display: "flex", gap: 8, marginBottom: 28, flexWrap: "wrap", justifyContent: "center" }}>
              {tierKeys.map(k => {
                const t = tiers[k];
                if (!t) return null;
                const isActive = tier === k;
                return (
                  <button key={k} type="button" onClick={() => setTier(k)} style={{
                    padding: "12px 24px", borderRadius: 10, fontSize: 15, fontWeight: 600, fontFamily: FONT,
                    cursor: "pointer", minHeight: 48, transition: "all 0.15s",
                    background: isActive ? C.accent : C.bg, color: isActive ? "#fff" : C.text,
                    border: `1px solid ${isActive ? C.accent : C.border}`,
                  }}>{t.name}</button>
                );
              })}
            </div>
            <div style={{ display: "flex", flexDirection: "column", gap: 14 }}>
              <input value={name} onChange={e => setName(e.target.value)} placeholder="Name" style={inputStyle} />
              <input value={email} onChange={e => setEmail(e.target.value)} placeholder="Email *" required type="email" style={inputStyle} />
              <input value={company} onChange={e => setCompany(e.target.value)} placeholder="Company" style={inputStyle} />
              <textarea value={message} onChange={e => setMessage(e.target.value)} placeholder="Message (optional)" rows={3} style={{ ...inputStyle, resize: "vertical", minHeight: 80 }} />
              <button type="submit" disabled={sending} style={{
                width: "100%", padding: "18px 0", borderRadius: 10, border: "none", background: C.accent, color: "#fff",
                fontSize: 15, fontWeight: 600, fontFamily: FONT, cursor: sending ? "not-allowed" : "pointer",
                opacity: sending ? 0.6 : 1, transition: "opacity 0.15s", minHeight: 56,
              }}>{sending ? "Sending..." : "Request Your Proposal \u2192"}</button>
            </div>
            <p style={{ textAlign: "center", fontSize: 14, color: C.muted, marginTop: 20 }}>
              Prefer email? <a href="mailto:partner@themommy.news" style={{ color: C.accent, fontWeight: 600, textDecoration: "none" }}>partner@themommy.news</a>
            </p>
          </form>
        </Section>
      );
    }

    // ─── Footer ───────────────────────────────────────────────────
    function Footer({ config }) {
      const contactEmail = config.contactEmail || "hello@themommy.news";
      return (
        <section style={{ padding: "72px 24px 48px", textAlign: "center", background: C.bg }}>
          <p style={{ fontSize: 18, color: C.text, fontWeight: 600, marginBottom: 8 }}>Managing multiple brands or need something different?</p>
          <p style={{ fontSize: 15, color: C.muted, marginBottom: 24, lineHeight: 1.6 }}>We build custom packages for agencies and multi-brand partnerships.</p>
          <a href={`mailto:${contactEmail}?subject=Custom%20Partnership%20Inquiry`} style={{
            display: "inline-block", padding: "14px 32px", borderRadius: 10,
            border: `1.5px solid ${C.border}`, color: C.text, fontSize: 15, fontWeight: 600,
            textDecoration: "none", marginBottom: 48,
          }}>Email Us &rarr;</a>
          <div style={{ width: "100%", height: 1, background: C.border, marginBottom: 32 }} />
          <p style={{ fontSize: 13, color: C.muted }}>The Mommy Newsletter &middot; themommy.news</p>
        </section>
      );
    }

    // ═══════════════════════════════════════════════════════════════
    // MAIN APP
    // ═══════════════════════════════════════════════════════════════
    function PackagesPage() {
      const [stats, setStats] = useState(null);
      const [config, setConfig] = useState(null);
      const [loading, setLoading] = useState(true);
      const width = useWindowWidth();
      const isMobile = width <= MOBILE;

      useEffect(() => {
        let mounted = true;
        async function loadData() {
          const cached = sessionStorage.getItem("pkg-stats");
          if (cached) {
            try {
              const parsed = JSON.parse(cached);
              const age = Date.now() - new Date(parsed.fetchedAt).getTime();
              if (age < 3600000) { if (mounted) setStats(parsed); }
            } catch {}
          }
          const [statsRes, configRes] = await Promise.allSettled([
            fetch("/api/stats").then(r => r.ok ? r.json() : null),
            fetch("/api/packages-config").then(r => r.ok ? r.json() : null),
          ]);
          if (!mounted) return;
          if (statsRes.status === "fulfilled" && statsRes.value) {
            setStats(statsRes.value);
            sessionStorage.setItem("pkg-stats", JSON.stringify(statsRes.value));
          }
          if (configRes.status === "fulfilled" && configRes.value) {
            const cfg = typeof configRes.value === "string" ? JSON.parse(configRes.value) : configRes.value;
            setConfig(cfg);
          }
          setLoading(false);
        }
        loadData();
        return () => { mounted = false; };
      }, []);

      const cfg = config || {
        engagedReaders: 31000, uniqueOpenRate: 75, totalOpenRate: "90-110%",
        instagramFollowers: 6081, facebookFollowers: 14000,
        demographics: [
          "100% moms, aged 22-45",
          "94% in the USA, with 6% in Canada, Australia, and the UK",
          "Interests: Baby/toddler gear, health & wellness, family finances, education, food & nutrition, home organization, and self-care",
        ],
        pavedRebookRate: 92, brandPartners: ["Netflix", "Instacart", "Canva", "Betterment", "UPPAbaby", "BabyBjörn", "Nanit", "Evenflo", "Blinkist", "Mockingbird", "ResortPass"],
        testimonials: [],
        liveExamples: [{ title: "ResortPass", url: "https://newsletter.themommy.news/p/ipad-holder-car-organizer-tidy-travel", cpc: "$1.53/click" }],
        baseRatePerPlacement: 750, takeoverPremiumPerPlacement: 200,
        tiers: {
          starter: {
            name: "Starter", tagline: "For brands testing newsletter sponsorship for the first time.", placements: 6, price: 3500,
            features: ["Standard placement position", "Live performance dashboard"],
            includeTakeoverOption: false,
            valueStack: [{ label: "6 Newsletter Placements", value: 4500 }, { label: "Live Performance Dashboard", value: 500 }],
          },
          growth: {
            name: "Growth", tagline: "For brands ready to own their category.", placements: 12, price: 7500, recommended: true,
            features: ["Primary placement (top of email)", "Category exclusivity for contract period", "2 Instagram stories + 2 Facebook posts", "Live performance dashboard + mid-campaign report"],
            includeTakeoverOption: true, takeoverPrice: 9900,
            valueStack: [
              { label: "12 Newsletter Placements", value: 9000 }, { label: "Primary Placement", value: 1200 },
              { label: "Category Exclusivity", value: 1500 }, { label: "2 IG Stories + 2 FB Posts", value: 800 },
              { label: "Dashboard + Mid-Campaign Report", value: 500 },
            ],
          },
          partner: {
            name: "Partner", tagline: "For brands that want to become synonymous with The Mommy.", placements: 24, price: 15000,
            features: ["Exclusive placement (sole sponsor per issue)", "Primary placement on every send", "Category exclusivity for the full year", "4 Instagram posts + 4 Instagram stories", "Welcome sequence integration", "1 dedicated send (entire email is your content)", "Live performance dashboard + quarterly reports", "Direct access for campaign strategy"],
            includeTakeoverOption: true, takeoverPrice: 19800,
            valueStack: [
              { label: "24 Newsletter Placements", value: 18000 }, { label: "Exclusive Placement", value: 2400 },
              { label: "Primary Placement", value: 2400 }, { label: "Category Exclusivity (full year)", value: 3000 },
              { label: "4 IG Posts + 4 IG Stories", value: 1600 }, { label: "Welcome Sequence Integration", value: 1500 },
              { label: "1 Dedicated Send", value: 1500 }, { label: "Dashboard + Quarterly Reports", value: 500 },
              { label: "Campaign Strategy Access", value: 500 },
            ],
          },
        },
        pricingMilestones: [
          { subscribers: 40000, adjustment: 0 }, { subscribers: 45000, adjustment: 100 },
          { subscribers: 50000, adjustment: 200 }, { subscribers: 55000, adjustment: 300 },
        ],
        cancellationPolicy: "Cancel with 30 days' notice. Unused placements are refunded on a prorated basis. No penalties, no fine print.",
        guaranteeMultiplier: 0.6,
        contactEmail: "hello@themommy.news", calendlyUrl: "",
      };

      if (loading && !config) {
        return (
          <div style={{ minHeight: "100vh", display: "flex", alignItems: "center", justifyContent: "center", background: C.bg }}>
            <div style={{ textAlign: "center" }}>
              <p style={{ fontSize: 13, fontWeight: 600, textTransform: "uppercase", letterSpacing: 3, color: C.accent, animation: "pulse 2s infinite" }}>The Mommy Newsletter</p>
            </div>
          </div>
        );
      }

      return (
        <div>
          <Hero stats={stats} config={cfg} isMobile={isMobile} />
          <BrandTicker config={cfg} isMobile={isMobile} />
          <Demographics config={cfg} isMobile={isMobile} />
          <Testimonials config={cfg} isMobile={isMobile} />
          <DashboardPreview isMobile={isMobile} />
          <PricingSection config={cfg} stats={stats} isMobile={isMobile} />
          <HowItWorks config={cfg} isMobile={isMobile} />
          <LockIn config={cfg} stats={stats} isMobile={isMobile} />
          <Guarantee config={cfg} />
          <InquiryForm config={cfg} isMobile={isMobile} />
          <Footer config={cfg} />
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<PackagesPage />);

    // Scroll fade-in observer (progressive enhancement — page works without it)
    requestAnimationFrame(() => {
      try {
        if ('IntersectionObserver' in window) {
          const observer = new IntersectionObserver((entries) => {
            entries.forEach(e => {
              if (e.isIntersecting) {
                e.target.classList.add('visible');
              }
            });
          }, { threshold: 0.1 });
          document.querySelectorAll('.section').forEach(el => {
            el.classList.add('animate-ready');
            observer.observe(el);
          });
        }
      } catch (e) {
        console.warn('Animation setup failed:', e);
        document.querySelectorAll('.section').forEach(el => {
          el.style.opacity = '1';
          el.style.transform = 'none';
        });
      }
    });
  </script>
</body>
</html>